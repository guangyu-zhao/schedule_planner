<!-- Event Modal -->
<div class="modal-overlay" id="modalOverlay">
    <div class="modal" id="eventModal">
        <div class="modal-header">
            <h3 id="modalTitle">New Event</h3>
            <button class="modal-close" id="modalClose">&times;</button>
        </div>
        <div class="modal-body">
            <div class="form-group">
                <label for="eventTitle"><span data-i18n="modal.title">Title</span> <span class="required">*</span></label>
                <input type="text" id="eventTitle" data-i18n-placeholder="modal.title.placeholder" placeholder="What to do?" maxlength="100">
            </div>
            <div class="form-row">
                <div class="form-group"><label for="eventDate" data-i18n="modal.date">Date</label><input type="date" id="eventDate"></div>
                <div class="form-group"><label for="eventStart" data-i18n="modal.start">Start</label><select id="eventStart"></select></div>
                <div class="form-group"><label for="eventEnd" data-i18n="modal.end">End</label><select id="eventEnd"></select></div>
            </div>
            <div class="form-row">
                <div class="form-group">
                    <label for="eventCategory" data-i18n="modal.category">Category</label>
                    <select id="eventCategory"></select>
                </div>
                <div class="form-group">
                    <label for="eventPriority" data-i18n="modal.priority">Priority</label>
                    <select id="eventPriority"></select>
                </div>
            </div>
            <div class="form-group"><label data-i18n="modal.color">Color</label><div class="color-picker" id="colorPicker"></div></div>
            <div class="form-group"><label for="eventDescription" data-i18n="modal.description">Description</label><textarea id="eventDescription" data-i18n-placeholder="modal.description.placeholder" placeholder="Add notes..." rows="3"></textarea></div>
        </div>
        <div class="modal-footer">
            <div class="modal-footer-left">
                <button class="btn btn-danger" id="deleteBtn" style="display:none" data-i18n="modal.delete">Delete</button>
            </div>
            <div class="modal-footer-right">
                <button class="btn btn-secondary" id="cancelBtn" data-i18n="modal.cancel">Cancel</button>
                <button class="btn btn-success" id="completeBtn" style="display:none">‚úì Complete</button>
                <button class="btn btn-primary" id="saveBtn" data-i18n="modal.save">Save</button>
            </div>
        </div>
    </div>
</div>

<!-- Delete Account Confirm Modal -->
<div class="modal-overlay" id="deleteAccountModal">
    <div class="modal" style="width: 400px;">
        <div class="modal-header">
            <h3 data-i18n="deleteAccount.title" style="color: var(--danger);">Delete Account</h3>
            <button class="modal-close" onclick="document.getElementById('deleteAccountModal').classList.remove('active')">&times;</button>
        </div>
        <div class="modal-body">
            <p data-i18n="deleteAccount.warning" style="font-size:13px;color:var(--text-secondary);margin-bottom:16px;line-height:1.6;">
                This action is <strong style="color:var(--danger)">irreversible</strong>. All schedules, timer records, notes and other data will be permanently deleted.
            </p>
            <div class="form-group">
                <label for="deleteAccountPwd" data-i18n="deleteAccount.confirmLabel">Enter password to confirm</label>
                <input type="password" id="deleteAccountPwd" data-i18n-placeholder="deleteAccount.placeholder" placeholder="Enter your password" autocomplete="current-password">
            </div>
            <div class="auth-error" id="deleteAccountError" style="min-height:0;margin:0 0 8px;"></div>
        </div>
        <div class="modal-footer">
            <div></div>
            <div class="modal-footer-right">
                <button class="btn btn-secondary" onclick="document.getElementById('deleteAccountModal').classList.remove('active')" data-i18n="deleteAccount.cancel">Cancel</button>
                <button class="btn btn-danger" id="confirmDeleteAccountBtn" onclick="confirmDeleteAccount()" data-i18n="deleteAccount.confirm">Confirm Delete</button>
            </div>
        </div>
    </div>
</div>

<!-- Action Popover -->
<div class="popover" id="actionPopover">
    <button class="popover-btn" id="popoverEdit"><span class="popover-icon">‚úèÔ∏è</span> <span data-i18n="popover.edit">Edit</span></button>
    <button class="popover-btn" id="popoverComplete"><span class="popover-icon">‚úì</span> <span data-i18n="popover.complete">Complete</span></button>
    <button class="popover-btn popover-btn-danger" id="popoverDelete"><span class="popover-icon">üóëÔ∏è</span> <span data-i18n="popover.delete">Delete</span></button>
</div>

<!-- Toast -->
<div class="toast" id="toast">
    <span class="toast-message" id="toastMessage"></span>
    <button class="toast-action" id="toastAction" style="display:none" data-i18n="toast.undo">Undo</button>
</div>
